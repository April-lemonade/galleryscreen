<template>
  <div class="image-map-container">
    <!--    <button @click="saveCanvasAsImage">保存画布为图片</button>-->

    <img src="../assets/map2.jpg" alt="Map" @load="onImageLoad"
         style="display: flex; width: 1600px; height: auto;position: absolute;z-index: 1"/>
    <div v-for="(item,index) in hotArtworks" :key="index"
         style="z-index:3;position: absolute;width: 150px;background: transparent;"
         :style="{left: `${item.position.x/1.25}px`, top: `${800-item.position.y/1.25 }px`}">
      <!--      <div style="position: relative;display: flex;">-->
      <!--        <div style="width: 15px">test</div>-->
      <!--      </div>-->
      <img style="background: transparent;width: 80%" :src="item.img" alt=""/>
    </div>
    <canvas ref="canvas" style="width: 1600px;height: 800px"
            :style="{ position: 'relative', top: '0px', left: '0px',zIndex:'2' }"></canvas>

  </div>
</template>

<script>
export default {
  name: 'MapView',
  props: {
    path: String
  },
  data() {
    return {
      width: 1000,
      height: 500,
      pathPoints: [
        {
          "x": 960,
          "y": 720
        },
        {
          "x": 955,
          "y": 715
        },
        {
          "x": 950,
          "y": 710
        },
        {
          "x": 945,
          "y": 705
        },
        {
          "x": 941,
          "y": 701
        },
        {
          "x": 936,
          "y": 700
        },
        {
          "x": 931,
          "y": 699
        },
        {
          "x": 926,
          "y": 698
        },
        {
          "x": 921,
          "y": 698
        },
        {
          "x": 916,
          "y": 698
        },
        {
          "x": 911,
          "y": 697
        },
        {
          "x": 906,
          "y": 697
        },
        {
          "x": 901,
          "y": 697
        },
        {
          "x": 896,
          "y": 699
        },
        {
          "x": 891,
          "y": 698
        },
        {
          "x": 886,
          "y": 698
        },
        {
          "x": 881,
          "y": 699
        },
        {
          "x": 876,
          "y": 700
        },
        {
          "x": 871,
          "y": 700
        },
        {
          "x": 866,
          "y": 699
        },
        {
          "x": 861,
          "y": 697
        },
        {
          "x": 856,
          "y": 697
        },
        {
          "x": 851,
          "y": 697
        },
        {
          "x": 846,
          "y": 697
        },
        {
          "x": 841,
          "y": 699
        },
        {
          "x": 836,
          "y": 701
        },
        {
          "x": 831,
          "y": 701
        },
        {
          "x": 826,
          "y": 700
        },
        {
          "x": 821,
          "y": 698
        },
        {
          "x": 816,
          "y": 698
        },
        {
          "x": 811,
          "y": 696
        },
        {
          "x": 806,
          "y": 698
        },
        {
          "x": 801,
          "y": 699
        },
        {
          "x": 796,
          "y": 701
        },
        {
          "x": 791,
          "y": 703
        },
        {
          "x": 786,
          "y": 702
        },
        {
          "x": 781,
          "y": 699
        },
        {
          "x": 776,
          "y": 698
        },
        {
          "x": 771,
          "y": 697
        },
        {
          "x": 766,
          "y": 698
        },
        {
          "x": 761,
          "y": 699
        },
        {
          "x": 756,
          "y": 700
        },
        {
          "x": 751,
          "y": 701
        },
        {
          "x": 746,
          "y": 701
        },
        {
          "x": 741,
          "y": 699
        },
        {
          "x": 736,
          "y": 698
        },
        {
          "x": 731,
          "y": 698
        },
        {
          "x": 726,
          "y": 697
        },
        {
          "x": 721,
          "y": 699
        },
        {
          "x": 716,
          "y": 700
        },
        {
          "x": 711,
          "y": 700
        },
        {
          "x": 706,
          "y": 700
        },
        {
          "x": 701,
          "y": 698
        },
        {
          "x": 696,
          "y": 697
        },
        {
          "x": 691,
          "y": 697
        },
        {
          "x": 686,
          "y": 695
        },
        {
          "x": 681,
          "y": 696
        },
        {
          "x": 676,
          "y": 696
        },
        {
          "x": 671,
          "y": 697
        },
        {
          "x": 666,
          "y": 696
        },
        {
          "x": 661,
          "y": 696
        },
        {
          "x": 656,
          "y": 696
        },
        {
          "x": 651,
          "y": 696
        },
        {
          "x": 646,
          "y": 696
        },
        {
          "x": 641,
          "y": 697
        },
        {
          "x": 636,
          "y": 697
        },
        {
          "x": 631,
          "y": 700
        },
        {
          "x": 626,
          "y": 700
        },
        {
          "x": 621,
          "y": 701
        },
        {
          "x": 616,
          "y": 700
        },
        {
          "x": 611,
          "y": 698
        },
        {
          "x": 606,
          "y": 699
        },
        {
          "x": 601,
          "y": 695
        },
        {
          "x": 596,
          "y": 691
        },
        {
          "x": 591,
          "y": 691
        },
        {
          "x": 586,
          "y": 688
        },
        {
          "x": 581,
          "y": 687
        },
        {
          "x": 576,
          "y": 686
        },
        {
          "x": 571,
          "y": 685
        },
        {
          "x": 566,
          "y": 684
        },
        {
          "x": 561,
          "y": 681
        },
        {
          "x": 556,
          "y": 678
        },
        {
          "x": 553,
          "y": 673
        },
        {
          "x": 548,
          "y": 668
        },
        {
          "x": 543,
          "y": 663
        },
        {
          "x": 538,
          "y": 658
        },
        {
          "x": 537,
          "y": 653
        },
        {
          "x": 534,
          "y": 648
        },
        {
          "x": 529,
          "y": 643
        },
        {
          "x": 524,
          "y": 638
        },
        {
          "x": 519,
          "y": 633
        },
        {
          "x": 514,
          "y": 628
        },
        {
          "x": 513,
          "y": 623
        },
        {
          "x": 513,
          "y": 618
        },
        {
          "x": 508,
          "y": 613
        },
        {
          "x": 503,
          "y": 608
        },
        {
          "x": 498,
          "y": 603
        },
        {
          "x": 493,
          "y": 602
        },
        {
          "x": 488,
          "y": 602
        },
        {
          "x": 483,
          "y": 602
        },
        {
          "x": 478,
          "y": 602
        },
        {
          "x": 473,
          "y": 603
        },
        {
          "x": 468,
          "y": 604
        },
        {
          "x": 463,
          "y": 602
        },
        {
          "x": 458,
          "y": 602
        },
        {
          "x": 453,
          "y": 602
        },
        {
          "x": 448,
          "y": 602
        },
        {
          "x": 443,
          "y": 602
        },
        {
          "x": 438,
          "y": 602
        },
        {
          "x": 433,
          "y": 602
        },
        {
          "x": 428,
          "y": 602
        },
        {
          "x": 423,
          "y": 601
        },
        {
          "x": 418,
          "y": 599
        },
        {
          "x": 413,
          "y": 597
        },
        {
          "x": 408,
          "y": 598
        },
        {
          "x": 403,
          "y": 595
        },
        {
          "x": 398,
          "y": 590
        },
        {
          "x": 393,
          "y": 585
        },
        {
          "x": 388,
          "y": 582
        },
        {
          "x": 383,
          "y": 578
        },
        {
          "x": 378,
          "y": 577
        },
        {
          "x": 373,
          "y": 579
        },
        {
          "x": 371,
          "y": 579
        },
        {
          "x": 376,
          "y": 577
        },
        {
          "x": 381,
          "y": 572
        },
        {
          "x": 386,
          "y": 567
        },
        {
          "x": 391,
          "y": 562
        },
        {
          "x": 396,
          "y": 557
        },
        {
          "x": 398,
          "y": 552
        },
        {
          "x": 403,
          "y": 547
        },
        {
          "x": 407,
          "y": 542
        },
        {
          "x": 407,
          "y": 537
        },
        {
          "x": 408,
          "y": 532
        },
        {
          "x": 413,
          "y": 527
        },
        {
          "x": 418,
          "y": 522
        },
        {
          "x": 420,
          "y": 518
        },
        {
          "x": 420,
          "y": 513
        },
        {
          "x": 421,
          "y": 508
        },
        {
          "x": 423,
          "y": 503
        },
        {
          "x": 427,
          "y": 498
        },
        {
          "x": 432,
          "y": 494
        },
        {
          "x": 437,
          "y": 493
        },
        {
          "x": 442,
          "y": 494
        },
        {
          "x": 447,
          "y": 496
        },
        {
          "x": 452,
          "y": 501
        },
        {
          "x": 457,
          "y": 506
        },
        {
          "x": 462,
          "y": 511
        },
        {
          "x": 467,
          "y": 516
        },
        {
          "x": 472,
          "y": 520
        },
        {
          "x": 477,
          "y": 524
        },
        {
          "x": 482,
          "y": 521
        },
        {
          "x": 487,
          "y": 525
        },
        {
          "x": 492,
          "y": 530
        },
        {
          "x": 497,
          "y": 535
        },
        {
          "x": 502,
          "y": 538
        },
        {
          "x": 507,
          "y": 538
        },
        {
          "x": 512,
          "y": 540
        },
        {
          "x": 517,
          "y": 545
        },
        {
          "x": 522,
          "y": 548
        },
        {
          "x": 527,
          "y": 551
        },
        {
          "x": 529,
          "y": 549
        },
        {
          "x": 524,
          "y": 544
        },
        {
          "x": 519,
          "y": 539
        },
        {
          "x": 514,
          "y": 534
        },
        {
          "x": 510,
          "y": 529
        },
        {
          "x": 511,
          "y": 524
        },
        {
          "x": 506,
          "y": 519
        },
        {
          "x": 501,
          "y": 514
        },
        {
          "x": 496,
          "y": 509
        },
        {
          "x": 491,
          "y": 504
        },
        {
          "x": 486,
          "y": 499
        },
        {
          "x": 481,
          "y": 494
        },
        {
          "x": 476,
          "y": 489
        },
        {
          "x": 471,
          "y": 484
        },
        {
          "x": 466,
          "y": 479
        },
        {
          "x": 461,
          "y": 474
        },
        {
          "x": 456,
          "y": 469
        },
        {
          "x": 453,
          "y": 464
        },
        {
          "x": 451,
          "y": 459
        },
        {
          "x": 448,
          "y": 454
        },
        {
          "x": 446,
          "y": 449
        },
        {
          "x": 446,
          "y": 444
        },
        {
          "x": 444,
          "y": 440
        },
        {
          "x": 449,
          "y": 443
        },
        {
          "x": 454,
          "y": 446
        },
        {
          "x": 459,
          "y": 444
        },
        {
          "x": 464,
          "y": 441
        },
        {
          "x": 469,
          "y": 438
        },
        {
          "x": 474,
          "y": 433
        },
        {
          "x": 479,
          "y": 428
        },
        {
          "x": 484,
          "y": 423
        },
        {
          "x": 489,
          "y": 418
        },
        {
          "x": 494,
          "y": 413
        },
        {
          "x": 499,
          "y": 408
        },
        {
          "x": 504,
          "y": 403
        },
        {
          "x": 509,
          "y": 398
        },
        {
          "x": 514,
          "y": 395
        },
        {
          "x": 519,
          "y": 394
        },
        {
          "x": 524,
          "y": 394
        },
        {
          "x": 529,
          "y": 398
        },
        {
          "x": 534,
          "y": 402
        },
        {
          "x": 539,
          "y": 404
        },
        {
          "x": 544,
          "y": 399
        },
        {
          "x": 549,
          "y": 395
        },
        {
          "x": 554,
          "y": 393
        },
        {
          "x": 559,
          "y": 390
        },
        {
          "x": 564,
          "y": 385
        },
        {
          "x": 569,
          "y": 380
        },
        {
          "x": 574,
          "y": 377
        },
        {
          "x": 579,
          "y": 373
        },
        {
          "x": 584,
          "y": 369
        },
        {
          "x": 589,
          "y": 366
        },
        {
          "x": 594,
          "y": 364
        },
        {
          "x": 599,
          "y": 361
        },
        {
          "x": 604,
          "y": 359
        },
        {
          "x": 609,
          "y": 358
        },
        {
          "x": 614,
          "y": 355
        },
        {
          "x": 619,
          "y": 350
        },
        {
          "x": 624,
          "y": 345
        },
        {
          "x": 629,
          "y": 340
        },
        {
          "x": 634,
          "y": 335
        },
        {
          "x": 639,
          "y": 330
        },
        {
          "x": 644,
          "y": 328
        },
        {
          "x": 649,
          "y": 327
        },
        {
          "x": 648,
          "y": 322
        },
        {
          "x": 652,
          "y": 322
        },
        {
          "x": 657,
          "y": 325
        },
        {
          "x": 662,
          "y": 330
        },
        {
          "x": 667,
          "y": 334
        },
        {
          "x": 672,
          "y": 339
        },
        {
          "x": 677,
          "y": 342
        },
        {
          "x": 682,
          "y": 347
        },
        {
          "x": 687,
          "y": 351
        },
        {
          "x": 692,
          "y": 352
        },
        {
          "x": 697,
          "y": 352
        },
        {
          "x": 702,
          "y": 354
        },
        {
          "x": 707,
          "y": 355
        },
        {
          "x": 712,
          "y": 355
        },
        {
          "x": 717,
          "y": 357
        },
        {
          "x": 722,
          "y": 360
        },
        {
          "x": 727,
          "y": 361
        },
        {
          "x": 732,
          "y": 361
        },
        {
          "x": 737,
          "y": 362
        },
        {
          "x": 742,
          "y": 362
        },
        {
          "x": 747,
          "y": 363
        },
        {
          "x": 752,
          "y": 362
        },
        {
          "x": 755,
          "y": 367
        },
        {
          "x": 755,
          "y": 372
        },
        {
          "x": 760,
          "y": 377
        },
        {
          "x": 760,
          "y": 382
        },
        {
          "x": 761,
          "y": 387
        },
        {
          "x": 758,
          "y": 392
        },
        {
          "x": 757,
          "y": 397
        },
        {
          "x": 758,
          "y": 402
        },
        {
          "x": 757,
          "y": 407
        },
        {
          "x": 760,
          "y": 412
        },
        {
          "x": 762,
          "y": 417
        },
        {
          "x": 763,
          "y": 422
        },
        {
          "x": 768,
          "y": 427
        },
        {
          "x": 772,
          "y": 432
        },
        {
          "x": 776,
          "y": 437
        },
        {
          "x": 779,
          "y": 442
        },
        {
          "x": 784,
          "y": 447
        },
        {
          "x": 789,
          "y": 449
        },
        {
          "x": 794,
          "y": 449
        },
        {
          "x": 799,
          "y": 450
        },
        {
          "x": 804,
          "y": 452
        },
        {
          "x": 809,
          "y": 457
        },
        {
          "x": 814,
          "y": 458
        },
        {
          "x": 819,
          "y": 456
        },
        {
          "x": 823,
          "y": 451
        },
        {
          "x": 821,
          "y": 446
        },
        {
          "x": 816,
          "y": 442
        },
        {
          "x": 811,
          "y": 440
        },
        {
          "x": 806,
          "y": 438
        },
        {
          "x": 801,
          "y": 435
        },
        {
          "x": 796,
          "y": 432
        },
        {
          "x": 791,
          "y": 427
        },
        {
          "x": 786,
          "y": 422
        },
        {
          "x": 781,
          "y": 419
        },
        {
          "x": 783,
          "y": 417
        },
        {
          "x": 788,
          "y": 412
        },
        {
          "x": 793,
          "y": 407
        },
        {
          "x": 798,
          "y": 402
        },
        {
          "x": 803,
          "y": 398
        },
        {
          "x": 808,
          "y": 393
        },
        {
          "x": 813,
          "y": 388
        },
        {
          "x": 817,
          "y": 383
        },
        {
          "x": 820,
          "y": 378
        },
        {
          "x": 822,
          "y": 373
        },
        {
          "x": 826,
          "y": 368
        },
        {
          "x": 831,
          "y": 363
        },
        {
          "x": 835,
          "y": 361
        },
        {
          "x": 840,
          "y": 366
        },
        {
          "x": 845,
          "y": 371
        },
        {
          "x": 850,
          "y": 376
        },
        {
          "x": 855,
          "y": 381
        },
        {
          "x": 860,
          "y": 386
        },
        {
          "x": 865,
          "y": 391
        },
        {
          "x": 869,
          "y": 396
        },
        {
          "x": 868,
          "y": 401
        },
        {
          "x": 866,
          "y": 406
        },
        {
          "x": 866,
          "y": 411
        },
        {
          "x": 865,
          "y": 416
        },
        {
          "x": 863,
          "y": 421
        },
        {
          "x": 860,
          "y": 426
        },
        {
          "x": 856,
          "y": 431
        },
        {
          "x": 851,
          "y": 436
        },
        {
          "x": 846,
          "y": 441
        },
        {
          "x": 843,
          "y": 446
        },
        {
          "x": 840,
          "y": 451
        },
        {
          "x": 840,
          "y": 456
        },
        {
          "x": 845,
          "y": 461
        },
        {
          "x": 850,
          "y": 466
        },
        {
          "x": 855,
          "y": 471
        },
        {
          "x": 860,
          "y": 476
        },
        {
          "x": 865,
          "y": 481
        },
        {
          "x": 870,
          "y": 484
        },
        {
          "x": 875,
          "y": 485
        },
        {
          "x": 880,
          "y": 490
        },
        {
          "x": 885,
          "y": 495
        },
        {
          "x": 890,
          "y": 500
        },
        {
          "x": 895,
          "y": 505
        },
        {
          "x": 900,
          "y": 510
        },
        {
          "x": 905,
          "y": 515
        },
        {
          "x": 910,
          "y": 520
        },
        {
          "x": 915,
          "y": 525
        },
        {
          "x": 920,
          "y": 530
        },
        {
          "x": 925,
          "y": 534
        },
        {
          "x": 930,
          "y": 535
        },
        {
          "x": 935,
          "y": 535
        },
        {
          "x": 940,
          "y": 532
        },
        {
          "x": 945,
          "y": 528
        },
        {
          "x": 948,
          "y": 523
        },
        {
          "x": 948,
          "y": 518
        },
        {
          "x": 947,
          "y": 513
        },
        {
          "x": 945,
          "y": 508
        },
        {
          "x": 943,
          "y": 503
        },
        {
          "x": 943,
          "y": 498
        },
        {
          "x": 942,
          "y": 493
        },
        {
          "x": 942,
          "y": 488
        },
        {
          "x": 942,
          "y": 483
        },
        {
          "x": 941,
          "y": 478
        },
        {
          "x": 941,
          "y": 473
        },
        {
          "x": 941,
          "y": 468
        },
        {
          "x": 941,
          "y": 463
        },
        {
          "x": 941,
          "y": 458
        },
        {
          "x": 942,
          "y": 453
        },
        {
          "x": 946,
          "y": 448
        },
        {
          "x": 949,
          "y": 443
        },
        {
          "x": 953,
          "y": 438
        },
        {
          "x": 958,
          "y": 433
        },
        {
          "x": 960,
          "y": 431
        },
        {
          "x": 961,
          "y": 436
        },
        {
          "x": 960,
          "y": 441
        },
        {
          "x": 961,
          "y": 446
        },
        {
          "x": 959,
          "y": 451
        },
        {
          "x": 959,
          "y": 456
        },
        {
          "x": 960,
          "y": 461
        },
        {
          "x": 964,
          "y": 466
        },
        {
          "x": 969,
          "y": 471
        },
        {
          "x": 974,
          "y": 476
        },
        {
          "x": 976,
          "y": 481
        },
        {
          "x": 980,
          "y": 486
        },
        {
          "x": 985,
          "y": 491
        },
        {
          "x": 984,
          "y": 496
        },
        {
          "x": 981,
          "y": 501
        },
        {
          "x": 983,
          "y": 506
        },
        {
          "x": 986,
          "y": 510
        },
        {
          "x": 981,
          "y": 510
        },
        {
          "x": 976,
          "y": 510
        },
        {
          "x": 971,
          "y": 512
        },
        {
          "x": 966,
          "y": 512
        },
        {
          "x": 961,
          "y": 515
        },
        {
          "x": 956,
          "y": 519
        },
        {
          "x": 951,
          "y": 523
        },
        {
          "x": 952,
          "y": 528
        },
        {
          "x": 957,
          "y": 533
        },
        {
          "x": 962,
          "y": 538
        },
        {
          "x": 965,
          "y": 543
        },
        {
          "x": 968,
          "y": 548
        },
        {
          "x": 971,
          "y": 553
        },
        {
          "x": 976,
          "y": 558
        },
        {
          "x": 981,
          "y": 563
        },
        {
          "x": 986,
          "y": 567
        },
        {
          "x": 991,
          "y": 572
        },
        {
          "x": 996,
          "y": 577
        },
        {
          "x": 999,
          "y": 582
        },
        {
          "x": 1001,
          "y": 587
        },
        {
          "x": 1002,
          "y": 592
        },
        {
          "x": 999,
          "y": 597
        },
        {
          "x": 996,
          "y": 602
        },
        {
          "x": 991,
          "y": 607
        },
        {
          "x": 986,
          "y": 612
        },
        {
          "x": 989,
          "y": 617
        },
        {
          "x": 987,
          "y": 622
        },
        {
          "x": 987,
          "y": 627
        },
        {
          "x": 983,
          "y": 632
        },
        {
          "x": 982,
          "y": 637
        },
        {
          "x": 984,
          "y": 642
        },
        {
          "x": 984,
          "y": 647
        },
        {
          "x": 988,
          "y": 652
        },
        {
          "x": 989,
          "y": 657
        },
        {
          "x": 989,
          "y": 662
        },
        {
          "x": 990,
          "y": 667
        },
        {
          "x": 989,
          "y": 672
        },
        {
          "x": 987,
          "y": 677
        },
        {
          "x": 983,
          "y": 682
        },
        {
          "x": 984,
          "y": 687
        },
        {
          "x": 980,
          "y": 692
        },
        {
          "x": 977,
          "y": 697
        },
        {
          "x": 978,
          "y": 702
        },
        {
          "x": 976,
          "y": 707
        },
        {
          "x": 977,
          "y": 712
        }
      ], // 路径点
      pathPoints1: [{x: 500, y: 390},
        {x: 500, y: 385},
        {x: 502, y: 380},
        {x: 499, y: 375},
        {x: 494, y: 370},
        {x: 490, y: 365},
        {x: 486, y: 360},
        {x: 488, y: 355},
        {x: 484, y: 350},
        {x: 483, y: 345},
        {x: 485, y: 340},
        {x: 488, y: 335},
        {x: 493, y: 330},
        {x: 495, y: 325},
        {x: 496, y: 320},
        {x: 491, y: 315},
        {x: 486, y: 311},
        {x: 481, y: 306},
        {x: 476, y: 301},
        {x: 471, y: 301},
        {x: 466, y: 301},
        {x: 461, y: 302},
        {x: 456, y: 302},
        {x: 451, y: 302},
        {x: 446, y: 300},
        {x: 442, y: 295},
        {x: 438, y: 290},
        {x: 435, y: 285},
        {x: 432, y: 280},
        {x: 429, y: 275},
        {x: 424, y: 270},
        {x: 419, y: 265},
        {x: 414, y: 260},
        {x: 409, y: 255},
        {x: 404, y: 250},
        {x: 400, y: 245},
        {x: 402, y: 240},
        {x: 398, y: 235},
        {x: 398, y: 230},
        {x: 399, y: 225},
        {x: 396, y: 220},
        {x: 392, y: 215},
        {x: 390, y: 210},
        {x: 393, y: 206},
        {x: 396, y: 201},
        {x: 401, y: 196},
        {x: 406, y: 191},
        {x: 410, y: 186},
        {x: 414, y: 181},
        {x: 416, y: 180},
        {x: 411, y: 184},
        {x: 410, y: 189},
        {x: 414, y: 194},
        {x: 419, y: 199},
        {x: 424, y: 204},
        {x: 424, y: 209},
        {x: 423, y: 214},
        {x: 419, y: 219},
        {x: 416, y: 224},
        {x: 418, y: 229},
        {x: 418, y: 234},
        {x: 415, y: 239},
        {x: 410, y: 244},
        {x: 408, y: 249},
        {x: 409, y: 254},
        {x: 414, y: 257},
        {x: 419, y: 257},
        {x: 424, y: 256},
        {x: 429, y: 256},
        {x: 434, y: 252},
        {x: 437, y: 247},
        {x: 439, y: 242},
        {x: 440, y: 237},
        {x: 441, y: 232},
        {x: 446, y: 227},
        {x: 446, y: 222},
        {x: 446, y: 217},
        {x: 445, y: 212},
        {x: 449, y: 207},
        {x: 453, y: 202},
        {x: 458, y: 203},
        {x: 463, y: 202},
        {x: 468, y: 201},
        {x: 473, y: 200},
        {x: 478, y: 200},
        {x: 478, y: 200},
        {x: 473, y: 200},
        {x: 468, y: 201},
        {x: 465, y: 205},
        {x: 466, y: 210},
        {x: 463, y: 215},
        {x: 464, y: 220},
        {x: 469, y: 225},
        {x: 470, y: 230},
        {x: 469, y: 226},
        {x: 464, y: 221},
        {x: 468, y: 216},
        {x: 473, y: 211},
        {x: 478, y: 213},
        {x: 478, y: 213},
        {x: 473, y: 214},
        {x: 468, y: 216},
        {x: 464, y: 221},
        {x: 463, y: 226},
        {x: 463, y: 231},
        {x: 464, y: 236},
        {x: 463, y: 241},
        {x: 463, y: 246},
        {x: 464, y: 251},
        {x: 464, y: 256},
        {x: 466, y: 261},
        {x: 470, y: 265},
        {x: 471, y: 270},
        {x: 471, y: 275},
        {x: 468, y: 280},
        {x: 467, y: 285},
        {x: 466, y: 290},
        {x: 470, y: 295},
        {x: 475, y: 300},
        {x: 480, y: 305},
        {x: 485, y: 310},
        {x: 490, y: 314},
        {x: 494, y: 319},
        {x: 494, y: 324},
        {x: 494, y: 329},
        {x: 493, y: 334},
        {x: 497, y: 339},
        {x: 502, y: 344},
        {x: 503, y: 349},
        {x: 503, y: 354},
        {x: 500, y: 359},
        {x: 502, y: 364},
        {x: 502, y: 369},
        {x: 502, y: 374},
        {x: 499, y: 379},
        {x: 502, y: 384},
        {x: 499, y: 389}],
      pathPoints2: [{x: 500, y: 390},
        {x: 495, y: 385},
        {x: 490, y: 380},
        {x: 485, y: 375},
        {x: 480, y: 370},
        {x: 475, y: 365},
        {x: 477, y: 360},
        {x: 477, y: 355},
        {x: 477, y: 350},
        {x: 473, y: 345},
        {x: 468, y: 341},
        {x: 463, y: 336},
        {x: 458, y: 332},
        {x: 453, y: 329},
        {x: 448, y: 326},
        {x: 443, y: 323},
        {x: 438, y: 325},
        {x: 433, y: 325},
        {x: 428, y: 320},
        {x: 423, y: 318},
        {x: 418, y: 314},
        {x: 413, y: 310},
        {x: 410, y: 305},
        {x: 409, y: 300},
        {x: 407, y: 295},
        {x: 405, y: 290},
        {x: 404, y: 285},
        {x: 402, y: 280},
        {x: 398, y: 275},
        {x: 394, y: 270},
        {x: 389, y: 268},
        {x: 384, y: 267},
        {x: 379, y: 266},
        {x: 374, y: 266},
        {x: 369, y: 268},
        {x: 364, y: 270},
        {x: 359, y: 272},
        {x: 354, y: 273},
        {x: 349, y: 274},
        {x: 344, y: 276},
        {x: 339, y: 274},
        {x: 334, y: 273},
        {x: 329, y: 272},
        {x: 324, y: 267},
        {x: 319, y: 266},
        {x: 314, y: 270},
        {x: 309, y: 271},
        {x: 304, y: 273},
        {x: 299, y: 272},
        {x: 294, y: 274},
        {x: 289, y: 275},
        {x: 285, y: 279},
        {x: 280, y: 284},
        {x: 275, y: 285},
        {x: 270, y: 287},
        {x: 265, y: 286},
        {x: 260, y: 284},
        {x: 255, y: 281},
        {x: 250, y: 279},
        {x: 245, y: 276},
        {x: 240, y: 277},
        {x: 235, y: 275},
        {x: 230, y: 273},
        {x: 225, y: 271},
        {x: 220, y: 273},
        {x: 215, y: 271},
        {x: 210, y: 268},
        {x: 205, y: 269},
        {x: 200, y: 269},
        {x: 195, y: 271},
        {x: 190, y: 274},
        {x: 186, y: 279},
        {x: 182, y: 284},
        {x: 184, y: 289},
        {x: 185, y: 287},
        {x: 188, y: 282},
        {x: 189, y: 277},
        {x: 192, y: 272},
        {x: 197, y: 268},
        {x: 202, y: 267},
        {x: 207, y: 263},
        {x: 210, y: 260},
        {x: 214, y: 263},
        {x: 219, y: 266},
        {x: 224, y: 266},
        {x: 229, y: 266},
        {x: 234, y: 266},
        {x: 239, y: 266},
        {x: 244, y: 266},
        {x: 249, y: 267},
        {x: 254, y: 269},
        {x: 259, y: 273},
        {x: 264, y: 274},
        {x: 262, y: 273},
        {x: 257, y: 272},
        {x: 252, y: 268},
        {x: 247, y: 266},
        {x: 242, y: 265},
        {x: 237, y: 265},
        {x: 232, y: 265},
        {x: 227, y: 265},
        {x: 222, y: 265},
        {x: 217, y: 263},
        {x: 212, y: 259},
        {x: 208, y: 254},
        {x: 213, y: 249},
        {x: 218, y: 244},
        {x: 220, y: 239},
        {x: 221, y: 234},
        {x: 222, y: 229},
        {x: 220, y: 224},
        {x: 222, y: 220},
        {x: 227, y: 218},
        {x: 232, y: 218},
        {x: 237, y: 215},
        {x: 242, y: 210},
        {x: 247, y: 205},
        {x: 251, y: 200},
        {x: 254, y: 195},
        {x: 258, y: 190},
        {x: 263, y: 185},
        {x: 268, y: 182},
        {x: 273, y: 180},
        {x: 278, y: 175},
        {x: 283, y: 170},
        {x: 288, y: 166},
        {x: 293, y: 165},
        {x: 298, y: 163},
        {x: 303, y: 158},
        {x: 308, y: 160},
        {x: 313, y: 158},
        {x: 318, y: 154},
        {x: 323, y: 158},
        {x: 327, y: 160},
        {x: 332, y: 165},
        {x: 337, y: 170},
        {x: 342, y: 175},
        {x: 347, y: 180},
        {x: 352, y: 183},
        {x: 357, y: 186},
        {x: 362, y: 189},
        {x: 367, y: 194},
        {x: 372, y: 198},
        {x: 375, y: 203},
        {x: 380, y: 208},
        {x: 385, y: 211},
        {x: 390, y: 210},
        {x: 393, y: 206},
        {x: 396, y: 201},
        {x: 401, y: 196},
        {x: 406, y: 191},
        {x: 410, y: 186},
        {x: 414, y: 181},
        {x: 416, y: 180},
        {x: 411, y: 184},
        {x: 410, y: 189},
        {x: 414, y: 194},
        {x: 419, y: 199},
        {x: 424, y: 204},
        {x: 424, y: 209},
        {x: 423, y: 214},
        {x: 419, y: 219},
        {x: 416, y: 224},
        {x: 418, y: 229},
        {x: 418, y: 234},
        {x: 415, y: 239},
        {x: 410, y: 244},
        {x: 408, y: 249},
        {x: 409, y: 254},
        {x: 414, y: 257},
        {x: 419, y: 257},
        {x: 424, y: 256},
        {x: 429, y: 256},
        {x: 434, y: 252},
        {x: 437, y: 247},
        {x: 439, y: 242},
        {x: 440, y: 237},
        {x: 441, y: 232},
        {x: 446, y: 227},
        {x: 446, y: 222},
        {x: 446, y: 217},
        {x: 445, y: 212},
        {x: 449, y: 207},
        {x: 453, y: 202},
        {x: 458, y: 203},
        {x: 463, y: 203},
        {x: 467, y: 206},
        {x: 472, y: 207},
        {x: 477, y: 212},
        {x: 481, y: 214},
        {x: 486, y: 215},
        {x: 491, y: 217},
        {x: 493, y: 222},
        {x: 494, y: 227},
        {x: 499, y: 231},
        {x: 499, y: 236},
        {x: 500, y: 241},
        {x: 498, y: 245},
        {x: 494, y: 250},
        {x: 493, y: 255},
        {x: 489, y: 259},
        {x: 484, y: 264},
        {x: 481, y: 269},
        {x: 476, y: 274},
        {x: 471, y: 279},
        {x: 468, y: 284},
        {x: 466, y: 289},
        {x: 469, y: 294},
        {x: 474, y: 299},
        {x: 479, y: 304},
        {x: 484, y: 309},
        {x: 489, y: 314},
        {x: 494, y: 318},
        {x: 494, y: 323},
        {x: 494, y: 328},
        {x: 499, y: 333},
        {x: 502, y: 338},
        {x: 504, y: 343},
        {x: 504, y: 348},
        {x: 506, y: 353},
        {x: 505, y: 358},
        {x: 505, y: 363},
        {x: 505, y: 368},
        {x: 503, y: 373},
        {x: 499, y: 378},
        {x: 494, y: 383},
        {x: 498, y: 388}],
      hotArtworks: [
        {id: '14', position: {x: 1320, y: 665}, img: require('../assets/Group 40.png')},
        {id: '10', position: {x: 1505, y: 730}, img: require('../assets/Group 42.png')},
        {id: '15', position: {x: 935, y: 650}, img: require('../assets/Group 43.png')},
        {id: '12', position: {x: 595, y: 480}, img: require('../assets/Group 44.png')},
        {id: '11', position: {x: 385, y: 600}, img: require('../assets/Group 45.png')}
      ]
    };
  },

  methods: {
    animatePath() {
      const canvas = this.$refs.canvas;
      const ctx = canvas.getContext('2d');
      canvas.width = this.width;
      canvas.height = this.height;

      // 移动坐标原点到左下角并设置横轴和纵轴的范围
      ctx.translate(0, canvas.height);
      ctx.scale(canvas.width / 1500, -canvas.height / 750);

      let index = 0; // 当前绘制的点索引
      let points = this.pathPoints; // 这里可以替换成任何路径点数组

      function draw() {
        if (index < points.length) {
          if (index === 0) {
            ctx.moveTo(points[index].x, points[index].y);
          } else {
            ctx.lineTo(points[index].x, points[index].y);
          }
          ctx.stroke();

          index++;
          requestAnimationFrame(draw); // 请求下一帧继续绘制
        }
      }

      ctx.beginPath();
      ctx.strokeStyle = '#B98333';
      ctx.lineWidth = 2;
      requestAnimationFrame(draw); // 开始绘制动画
      // ctx.beginPath();
      // points = this.pathPoints1;
      // ctx.strokeStyle = '#7297AC';
      // ctx.lineWidth = 2;
      // requestAnimationFrame(draw); // 开始绘制动画
    },
    animatePath1() {
      const canvas = this.$refs.canvas;
      const ctx = canvas.getContext('2d');
      canvas.width = this.width;
      canvas.height = this.height;

      // 移动坐标原点到左下角并设置横轴和纵轴的范围
      ctx.translate(0, canvas.height);
      ctx.scale(canvas.width / 1000, -canvas.height / 500);

      let index = 0; // 当前绘制的点索引
      let points = this.pathPoints1; // 这里可以替换成任何路径点数组

      function draw() {
        if (index < points.length) {
          if (index === 0) {
            ctx.moveTo(points[index].x * 1.5, points[index].y);
          } else {
            ctx.lineTo(points[index].x, points[index].y);
          }
          ctx.stroke();

          index++;
          requestAnimationFrame(draw); // 请求下一帧继续绘制
        }
      }

      ctx.beginPath();
      ctx.strokeStyle = '#B98333';
      ctx.lineWidth = 2;
      requestAnimationFrame(draw); // 开始绘制动画
      // ctx.beginPath();
      // points = this.pathPoints1;
      // ctx.strokeStyle = '#7297AC';
      // ctx.lineWidth = 2;
      // requestAnimationFrame(draw); // 开始绘制动画
    },

    saveCanvasAsImage() {
      const canvas = this.$refs.canvas;
      if (canvas) {
        const imageDataURL = canvas.toDataURL("image/png"); // 创建图片DataURL
        const link = document.createElement('a');
        link.download = 'canvas-image.png'; // 设置下载的文件名
        link.href = imageDataURL;
        link.click(); // 触发下载
      }
    },
    onImageLoad(event) {
      this.width = event.target.width;
      this.height = event.target.height;
      this.drawPath();
      // this.animatePath()
      // this.animatePath1()
    },
    drawPath() {
      const canvas = this.$refs.canvas;
      const ctx = canvas.getContext('2d');
      canvas.width = this.width;
      canvas.height = this.height;

      // 清除画布
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // 移动坐标原点到左下角并设置横轴和纵轴的范围
      ctx.translate(0, canvas.height); // 将原点移到左下角
      ctx.scale(canvas.width / 2000, -canvas.height / 1000); // 缩放坐标系

      ctx.beginPath();
      this.pathPoints.forEach((point, index) => {
        if (index === 0) {
          ctx.moveTo(point.x, point.y);
        } else {
          ctx.lineTo(point.x, point.y);
        }
      });
      ctx.strokeStyle = '#B98333';
      ctx.lineWidth = 2;
      ctx.stroke();

      ctx.beginPath();
      this.pathPoints1.forEach((point, index) => {
        if (index === 0) {
          ctx.moveTo(point.x, point.y);
        } else {
          ctx.lineTo(point.x, point.y);
        }
      });
      ctx.strokeStyle = '#7297AC';
      ctx.lineWidth = 2;
      ctx.stroke();

      ctx.beginPath();
      this.pathPoints2.forEach((point, index) => {
        if (index === 0) {
          ctx.moveTo(point.x, point.y);
        } else {
          ctx.lineTo(point.x, point.y);
        }
      });
      ctx.strokeStyle = '#4F7C48';
      ctx.lineWidth = 2;
      ctx.stroke();
    }
  }
}
</script>

<style>
.image-map-container {
  position: relative;
  width: 100%;
  height: auto;
  //z-index: 1;
}

canvas {
  background-color: transparent;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
</style>